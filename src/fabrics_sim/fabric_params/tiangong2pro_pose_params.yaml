# Copyright (c) 2022, NVIDIA CORPORATION & AFFILIATES. All rights reserved.                          
                                                                                                     
# NVIDIA CORPORATION, its affiliates and licensors retain all intellectual                           
# property and proprietary rights in and to this material, related                                   
# documentation and any modifications thereto. Any use, reproduction,                                
# disclosure or distribution of this material and related documentation                              
# without an express license agreement from NVIDIA CORPORATION or                                    
# its affiliates is strictly prohibited.

fabric_params:
    cspace_attractor:
        min_isotropic_mass: 1.
        max_isotropic_mass: 1.
        mass_sharpness: 20.0
        mass_switch_offset: 1.
        conical_sharpness: 20.
        conical_gain: 1.
    joint_limit_repulsion:
        velocity_gate: True
        breakaway_distance: 0.0
        breakaway_velocity: 0.
        soft_relu_gain: 8.
        metric_scalar: 0.02
        metric_exploder_offset: 0.1
        max_metric: 100.
        damping_gain: 8.
    hand_attractor:
        min_isotropic_mass: 8.
        max_isotropic_mass: 8.
        mass_sharpness: 20.
        mass_switch_offset: 0.5
        conical_sharpness: 40.
        conical_gain: 50.
        damping: 50.
        damping_sharpness: 10.
        damping_radius: 0.2
    palm_attractor:
        min_isotropic_mass: 1.
        max_isotropic_mass: 1.
        mass_sharpness: 10.
        mass_switch_offset: 0.5
        conical_sharpness: 40. # 10. for 12 dim pose attractor
        conical_gain: 50.
        damping: 50. #25. # 50.
        damping_sharpness: 10. # 20. for the 12 dim pose attractor
        damping_radius: .2 #1.32 # 1. for 12 dim pose attractor
    body_repulsion:
      max_depth: 2.
      min_depth: 0.01
      engage_depth: 0.5
      breakaway_depth: 0.0
      breakaway_velocity: 0.
      metric_scalar: 1.
      velocity_gate: True
      velocity_gate_sharpness: 1000.
      velocity_gate_offset: 0.002
      rescaled_min_dist: .01
      forcing_metric_scalar: .01
      geom_metric_scalar: .01
      constant_accel: 1.
      constant_accel_geom: 5.
      damping_gain: 0. #25. #30.
      collision_sphere_frames: 
      # 放置碰撞球体的连杆名称列表, 与下面的半径列表一一对应
      # 这些是右臂中真正有碰撞体积的连杆
          ["body_yaw_link",
           "shoulder_yaw_r_link", 
           "elbow_yaw_r_link",
           
           "base_link_r",
           "A01_R", "A02_R", "B01_R", "B02_R",
           "C01_R", "C02_R", "D01_R", "D02_R"]

      collision_sphere_radii: [0.2,
                               0.1,
                               0.1,
                               
                               0.075,
                               0.02, 0.02, 0.02, 0.02,
                               0.02, 0.02, 0.02, 0.02]

      collision_sphere_pairs: []
       # 使用前缀匹配定义碰撞对
      collision_link_prefix_pairs: [["body_yaw_link", "shoulder_yaw_r_link"],
                                    ["body_yaw_link", "elbow_yaw_r_link"],
                                    ["base_link_r", "body_yaw_link"],
                                    ["A01_R", "body_yaw_link"],
                                    ["A02_R", "body_yaw_link"],
                                    ["B01_R", "body_yaw_link"],
                                    ["B02_R", "body_yaw_link"],
                                    ["C01_R", "body_yaw_link"],
                                    ["C02_R", "body_yaw_link"],
                                    ["D01_R", "body_yaw_link"],
                                    ["D02_R", "body_yaw_link"],
                                    ["A02_R", "B02_R"]]
    cspace_damping:
      gain: 10.
    speed_control:
      active: False
      energy_target: 10.
      damping: 100.
    joint_limits:
      active: True
      acceleration: [7.5, 7.5, 10., 10., 10., 20., 20.,
                     15., 15.,]
      jerk: [3750., 3750., 5000., 5000., 5000., 10000., 10000.,
             2000., 2000.,]
